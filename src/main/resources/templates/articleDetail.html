<!DOCTYPE HTML SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns:th="http://www.thymeleaf.org">

<head> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<div th:object="${article}">
<h1 th:inline="text">Hello [[${#httpServletRequest.remoteUser}]]!</h1>
<h1 th:text="*{title}" />
<p th:text="'written by '+*{author.username}" />
<p th:text="*{date}" />
<img src="~/src/main/resources/static/img/"  th:src="@{../img/{image}(image=*{imageURL})}" />

<p th:text="*{text}" />

<table class="table table-striped"> 
	<tr th:each = "comment : ${comments}">
		<td th:text="${comment.title}"></td>
		<td th:text="${comment.author.username}"></td>
		<td th:text="${comment.date}"></td>   		
		<td th:text="${comment.text}"></td> 
	</tr>
</table>
<div th:if="${comment.author != null}">
<h3>Add a comment :</h3>
	<form th:object="${comment}" th:action="@{/saveComment}" action="#" method="post">
	<input type="hidden" class="form-control" th:field="*{article}" />
	<input type="hidden" class="form-control" th:field="*{author}" />
	<div class="form-group">
		<label for="title">Title</label>
		<input type="text" id="title" th:field="*{title}"/>
		<label for="comment">Comment</label>
		<input type="text" id="comment" th:field="*{text}"/>
	</div>

	<input type="submit" value="Save" class="btn btn-primary" />
	</form>
</div>
</div>


</body>
</html>